<!--<button (click)="save(entryStatus.Published)" *ngIf="isEditing">-->
<!--  <span *ngIf="form.controls.status.value === entryStatus.Draft">Publish</span>-->
<!--  <span *ngIf="form.controls.status.value === entryStatus.Published">Update</span>-->
<!--</button>-->
<!--<button (click)="addEntry(entryStatus.Published)" *ngIf="!isEditing">Publish</button>-->
<!--<button (click)="save()">-->
<!--  <span *ngIf="isEditing">Update</span>-->
<!--  <span *ngIf="!isEditing">Submit</span>-->
<!--</button>-->
<!--<button (click)="goBack()">BACK</button>-->
<!--<button *ngIf="postChanged" (click)="revertChanges()">Revert changes</button>-->
<!--&lt;!&ndash; Tags &ndash;&gt;-->
<!--<button type="button"-->
<!--        [popover]="popTemplate" popoverTitle="Tags">-->
<!--  Tags-->
<!--</button>-->
<!--<ng-template #popTemplate>-->
<!--  <div class="tags-wrapper">-->
<!--    &lt;!&ndash; Search form &ndash;&gt;-->
<!--    <form [formGroup]="tagQueryForm">-->
<!--      <input type="text" placeholder="Search tags" formControlName="query">-->
<!--    </form>-->
<!--    &lt;!&ndash; Tag list &ndash;&gt;-->
<!--    <p *ngFor="let tag of tags" class="d-block mb-1"-->
<!--       [class.bg-primary]="isTagSelected(tag.slug)"-->
<!--       (click)="isTagSelected(tag.slug) ? removeTag(tag.slug) : addTag(tag)">-->
<!--      #{{ tag.slug }}-->
<!--    </p>-->
<!--  </div>-->
<!--</ng-template>-->
<form class="d-flex flex-column h-100 bg-white" [formGroup]="form">
  <!-- Title -->
  <!--    <input type="text" formControlName="title" placeholder="Title" [required]="true">-->
  <!-- Editor -->
  <div class="d-flex align-items-center header" [class.shadow-sm]="scrolled">
    <div class="toolbar">
      <div class="ql-formats">
        <select class="ql-header ql-picker" tooltip="Direction" placement="bottom"
                [title]="'Heading'"></select>
      </div>
      <div class="ql-formats">
        <button class="ql-bold" tooltip="Bold (Ctrl + B)" placement="bottom"></button>
        <button class="ql-italic" tooltip="Italic (Ctrl + I)" placement="bottom"></button>
        <button class="ql-underline" tooltip="Underline (Ctrl + U)" placement="bottom"></button>
        <button class="ql-strike" tooltip="Strikethrough" placement="bottom"></button>
      </div>
      <div class="divider"></div>
      <div class="ql-formats">
        <button class="ql-link" tooltip="Link (Ctrl + K)" placement="bottom"></button>
        <button class="ql-blockquote" tooltip="Quote" placement="bottom"></button>
        <button class="ql-code-block" tooltip="Code" placement="bottom"></button>
        <button class="ql-list" tooltip="List bullet" placement="bottom" value="bullet"></button>
        <button class="ql-divider" tooltip="Divider" placement="bottom"></button>
      </div>
      <div class="divider"></div>
      <div class="ql-formats">
        <button class="ql-image" tooltip="Insert image" placement="bottom"></button>
        <button class="ql-video" tooltip="Insert video" placement="bottom"></button>
      </div>
      <div class="divider"></div>
      <div class="ql-formats">
        <button class="ql-direction" tooltip="Direction" placement="bottom" value="rtl"></button>
        <select class="ql-align">
          <option selected></option>
          <option value="center"></option>
          <option value="right"></option>
          <option value="justify"></option>
        </select>
      </div>
      <div class="ql-formats">
        <button class="ql-clean" tooltip="Clear format" placement="bottom"></button>
      </div>
    </div>
    <div class="d-flex ml-auto">
      <button class="btn btn-primary mr-2" (click)="save()">
        <span *ngIf="isEditing">Update</span>
        <span *ngIf="!isEditing">Submit</span>
      </button>
      <button class="btn btn-light mr-2">
        <fa-icon icon="cog" [fixedWidth]="true"></fa-icon>
      </button>
    </div>
  </div>
  <div class="editor h-100 overflow-auto"
       (scroll)="scrolled = $event.target['scrollTop'] > 0">
    <div class="container d-flex flex-column h-100">
      <!-- Title -->
      <textarea id="title"
                appAutoResize
                class="form-control" formControlName="title"
                ng-focus="updatingTitle=true"
                ng-blur="updatingTitle=false"
                placeholder="{{ 'TITLE' | translate }}"
                autocomplete="off"
                (keydown.enter)="$event.preventDefault(); editor.focus()"
                (keydown.tab)="$event.preventDefault(); editor.focus()"
                [required]="true"></textarea>
      <quill-editor [formControl]="form.controls['content']"
                    [modules]="options"
                    [placeholder]="'CONTENT' | translate"
                    scrollingContainer=".editor"
                    bounds=".editor"
                    [styles]="{borderWidth: 0, fontSize: '1rem'}"
                    style="flex: 1"
                    classes="text-dark"
                    (onEditorCreated)="onEditorInit($event)">
      </quill-editor>
    </div>
  </div>
</form>
<!-- File list modal -->
<ng-template #fileListModalTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left" translate>SELECT_IMAGE</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="fileListModalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-file-list [selection]="true" (choose)="onFileSelect($event)">
    </app-file-list>
  </div>
</ng-template>

